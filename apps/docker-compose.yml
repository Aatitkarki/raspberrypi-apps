version: '3'

services:
  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - WEBUI_PORT=8080
      - TORRENTING_PORT=6881
    volumes:
      - /home/aatit/data/qbittorrent/config:/config
      - /home/aatit/data/qbittorrent/downloads:/downloads
      # - /media/devmon/STORAGE/qbittorrent/downloads:/downloads
      - /media/devmon/STORAGE/jellyfin/tvseries:/tv
      - /media/devmon/STORAGE/jellyfin/movies:/movies
    ports:
      - 8080:8080 # Web UI port
      - 6881:6881 # Torrent port
      - 6881:6881/udp # Torrent UDP port
    restart: unless-stopped

  jellyfin:
    image: lscr.io/linuxserver/jellyfin:latest
    container_name: jellyfin
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      # - JELLYFIN_PublishedServerUrl=192.168.0.5 # optional
    volumes:
      - /home/aatit/data/jellyfin/config:/config
      # - /home/aatit/data/jellyfin/tvseries:/data/tvshows
      # - /home/aatit/data/jellyfin/movies:/data/movies
      - /media/devmon/STORAGE/jellyfin/tvseries:/data/tvshows
      - /media/devmon/STORAGE/jellyfin/movies:/data/movies

    ports:
      - 8096:8096
      - 8920:8920 # optional
      - 7359:7359/udp # optional
      - 1900:1900/udp # optional
    restart: unless-stopped

  ghost:
    image: ghost:latest
    container_name: ghost_blog
    restart: always
    ports:
      - 4005:2368
    environment:
      url: https://blog.sureshk.com.np  # Update this with your subdomain
      database__client: sqlite3
      database__connection__filename: /var/lib/ghost/content/data/ghost.db
    volumes:
      - /home/aatit/data/ghost:/var/lib/ghost/content
